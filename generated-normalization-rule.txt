rule "Add LCSH to local tags"
priority 4
when 
(exists "650.x.Legal status of slaves in free states*")
then 
addSubField "650.2.lcsh" if (exists "650.{-,0}.x.Legal status of slaves in free states*")
copyField "650" to "950" if (exists "650.x.Legal status of slaves in free states*")
removeSubField "650.2" if (exists "650.{-,0}")

end

rule "Flip from LCSH to NULA"
priority 3
when
(true)
then
replaceContents "650.x.Legal status of slaves in free states\\." with "Legal status of enslaved persons in free states." if(exists "650.{*,0}.x.Legal status of slaves in free states\\.")
replaceContents "650.x.Legal status of slaves in free states" with "Legal status of enslaved persons in free states" if(exists "650.{*,0}.x.Legal status of slaves in free states")
changeSecondIndicator "650" to "7" if (exists "650.x.Legal status of enslaved persons in free states\\.")
changeSecondIndicator "650" to "7" if (exists "650.x.Legal status of enslaved persons in free states")
removeSubField "650.2.fast" if (exists "650.{-,7}")
addSubField "650.2.local"  if (exists "650.{-,7}.x.Legal status of enslaved persons in free states\\.")
addSubField "650.2.local"  if (exists "650.{-,7}.x.Legal status of enslaved persons in free states")

end

rule "Delete FAST headings"
priority 2
when 
(true)
then
removeField "650" if (exists "650.{-,7}.x.Legal status of slaves in free states*")
end
